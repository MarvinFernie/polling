(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[725],{1700:function(e,s,l){Promise.resolve().then(l.bind(l,3506))},9376:function(e,s,l){"use strict";var t=l(5475);l.o(t,"notFound")&&l.d(s,{notFound:function(){return t.notFound}}),l.o(t,"useParams")&&l.d(s,{useParams:function(){return t.useParams}}),l.o(t,"useRouter")&&l.d(s,{useRouter:function(){return t.useRouter}})},3506:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return d}});var t=l(7437),a=l(2972),r=l.n(a),n=l(2265),c=l(9376),i=l(3562),o=l(8063);function d(){let e=(0,c.useParams)().id,[s,l]=(0,n.useState)(null),[a,d]=(0,n.useState)(!0),[u,h]=(0,n.useState)(!1),[m,x]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{(async()=>{try{let s=await (0,i.Kd)(e);s||(0,c.notFound)(),l(s);let t="poll_vote_".concat(e),a="poll_upvote_".concat(e);h(!!localStorage.getItem(t)),x(!!localStorage.getItem(a))}catch(e){console.error("Error fetching poll:",e)}finally{d(!1)}})()},[e]),a)?(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(r(),{href:"/polls",className:"text-accent hover:text-accent-light font-medium",children:"← Back to Polls"}),(0,t.jsx)("h1",{className:"text-3xl font-bold text-accent-light",children:"Poll"})]}),(0,t.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,t.jsxs)("div",{className:"card animate-pulse",children:[(0,t.jsx)("div",{className:"h-5 bg-border rounded w-3/4 mb-4"}),(0,t.jsx)("div",{className:"space-y-3 mb-4",children:[1,2,3].map(e=>(0,t.jsx)("div",{className:"h-12 bg-border rounded"},e))}),(0,t.jsx)("div",{className:"h-4 bg-border rounded w-1/4"})]})})]}):(0,t.jsxs)("div",{className:"space-y-8 animate-fade-in",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between border-b border-border pb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(r(),{href:"/polls",className:"flex items-center justify-center w-8 h-8 rounded-full bg-surface hover:bg-surface-light transition-colors duration-200 text-gray-400 hover:text-accent",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-white",children:"View Poll"})]}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)("div",{className:"badge-primary",children:[(0,t.jsxs)("svg",{className:"h-3 w-3 mr-1 inline",fill:"currentColor",viewBox:"0 0 20 20",children:[(0,t.jsx)("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),(0,t.jsx)("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}),u?"You voted":"Not voted yet"]})})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:(0,t.jsx)("div",{className:"md:col-span-3 md:col-start-2",children:s&&(0,t.jsx)(o.Z,{poll:s,initialVoted:u,initialUpvoted:m})})}),(0,t.jsx)("div",{className:"border-t border-border pt-6 mt-10",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"Want to get more responses? Share this poll with others!"}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(r(),{href:"/polls",className:"btn-outline py-2 px-4",children:"View All Polls"}),(0,t.jsxs)(r(),{href:"/polls/create",className:"btn-primary py-2 px-4 flex items-center",children:[(0,t.jsx)("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"Create New Poll"]})]})]})})]})}}},function(e){e.O(0,[358,139,390,63,971,117,744],function(){return e(e.s=1700)}),_N_E=e.O()}]);